<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Pauls Valley National Bank</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="stylesheet" href="admin.css">
  <script src="admin.js" defer></script>
</head>
<body>

  <!-- Sidebar list -->
  <div class="sidebar">
    <h2>Admin Panel</h2>
    <ul> 
      <li><a href="#" data-target="dashboard">Dashboard</a></li>
      <li><a href="#" data-target="credit-debit">Credit/Debit User</a></li>
      <li><a href="#" data-target="transactions">Transaction History</a></li>
      <li><a href="#" data-target="virtual-cards">Virtual Cards</a></li>
      <li><a href="#" data-target="bank-transactions">Bank Transactions</a></li>
      <li><a href="#" data-target="deposit-transactions">Deposit Transactions</a></li>
      <li><a href="#" data-target="send-email">Send Mail</a></li>
      <li><a href="#" data-target="manage-users">Manage Users</a></li>
      <li><a href="#" data-target="create-user">Create New User</a></li>
      <li><a href="#" data-target="update-user">Update User Profile</a></li>
      <li><a href="#" data-target="settings">Settings</a></li>
    </ul>
  </div>
  <!-- Sidebar list end-->

  <!-- Main content -->
  <div class="main-content">

    <!-- Top bar -->
    <div class="top-bar">
      <h1>Dashboard</h1>
      <div class="top-right">
        <span class="mail-icon" title="Check Mail">
          <i class="fas fa-envelope"></i>
        </span>
        <div class="user-box">
          <img src="https://via.placeholder.com/35" alt="User">
          <div>
            <span>Auto System</span>
            <span class="user-status">● Online</span>
          </div>
        </div>
      </div>
    </div>
    <!-- Top bar end -->

    <!-- Dashboard Section --> 
    <div id="dashboard" class="section">
      <div class="cards">
        <div class="card">
          <h3>Total Balance</h3>
          <p>$51,270,607,208.00</p>
        </div>
        <div class="card">
          <h3>Total Wire</h3>
          <p>$1,786,000.00</p>
        </div>
        <div class="card">
          <h3>Current Balance</h3>
          <p>$50,181,032,000.00</p>
        </div>
        <div class="card">
          <h3>Total Cards</h3>
          <p>0</p>
        </div>
      </div>
    </div>

    <!-- Other Sidebar Sections (keep hidden by default) -->
     <!-- Credit/Debit -->
    <div id="credit-debit" class="section" style="display:none;">
       <h2>Credit/Debit User</h2>
  <form class="admin-form">
    <label for="userId">User ID</label>
    <input type="text" id="userId" placeholder="Enter User ID">

    <label for="amount">Amount</label>
    <input type="number" id="amount" placeholder="Enter amount">

    <label for="action">Action</label>
    <select id="action">
      <option value="credit">Credit</option>
      <option value="debit">Debit</option>
    </select>

    <label for="reason">Reason</label>
    <textarea id="reason" placeholder="Enter reason"></textarea>

    <button type="submit">Submit</button>
  </form>
    </div>
     <!-- Credit/Debit User end -->

 <!-- transaction histry -->

    <!-- Transaction History Section -->
<div id="transactions" class="section" style="display:none;">
  <h2>Transaction History</h2>

  <!-- Filters -->
  <div class="filter-container">
    <input type="text" id="searchUser" placeholder="Search by User Email/ID">

    <select id="statusFilter" onchange="filterTransactions()">
      <option value="all">All</option>
      <option value="success">Success</option>
      <option value="pending">Pending</option>
      <option value="failed">Failed</option>
    </select>

    <label for="dateFrom">From: </label>
    <input type="date" id="dateFrom">
    <label for="dateTo">To: </label>
    <input type="date" id="dateTo">

    <button onclick="filterTransactions()">Filter</button>
  </div>

  <br>

  <!-- Table -->
  <table border="1" cellpadding="8" cellspacing="0" width="100%">
    <thead>
      <tr>
        <th>Date</th>
        <th>User</th>
        <th>Type</th>
        <th>Amount</th>
        <th>Status</th>
      </tr>
    </thead>
    <tbody id="transactionTable">
      <tr>
        <td>2025-09-12</td>
        <td>john@example.com</td>
        <td>Credit</td>
        <td>₦50,000</td>
        <td>Success</td>
      </tr>
      <tr>
        <td>2025-09-11</td>
        <td>mark@example.com</td>
        <td>Debit</td>
        <td>₦15,000</td>
        <td>Failed</td>
      </tr>
      <tr>
        <td>2025-09-10</td>
        <td>mary@example.com</td>
        <td>Debit</td>
        <td>₦10,000</td>
        <td>Pending</td>
      </tr>
      <tr>
        <td>2025-09-05</td>
        <td>jane@example.com</td>
        <td>Deposit</td>
        <td>₦100,000</td>
        <td>Success</td>
      </tr>
    </tbody>
  </table>
</div>

 <!-- transaction Histry end -->


 
 <!-- Virtual Cards Section -->

<div id="virtual-cards" class="form-section" style="display:none;">
  <h3>Virtual Cards</h3>

  <!-- Create Card Form -->
  <form id="createCardForm" onsubmit="createCard(event)">
  <label>Card Number</label>
  <input type="text" id="cardNumber" placeholder="1234 5678 9012 3456" required>

  <label>Expiry Date</label>
  <input type="month" id="expiryDate" required>

  <label>CVV</label>
  <input type="text" id="cvv" maxlength="4" placeholder="123" required>

  <label>User Name</label>
  <input type="text" id="cardUser" placeholder="Jane Doe" required>

  <label>Bank Logo</label>
  <input type="file" id="cardLogo" accept="image/*">

  <label>Notes (optional)</label>
  <input type="text" id="cardNotes" placeholder="Optional notes">

  <button type="button" onclick="previewCard()">Preview Card</button>
  <button type="submit">Create Virtual Card</button>
</form>
<!-- end ofcard form -->
<!-- prevuew Atm card -->
<div id="cardPreview" style="margin-top:20px; display:none; position:relative;">
  <h4>Card Preview</h4>

  <!-- Close Button -->
  <button type="button" id="closePreview" 
    style="position:absolute; top:5px; right:5px; background:red; color:white; border:none; border-radius:50%; width:25px; height:25px; cursor:pointer;">
    ×
  </button>

  <div style="width:320px; height:180px; border-radius:12px; background:#007bff; color:white; padding:20px; position:relative; margin-top:30px;">
    <img id="previewLogo" src="" alt="Bank Logo"
      style="position:absolute; top:10px; right:10px; width:60px; height:60px; object-fit:contain;">
    <div style="margin-top:50px;">
      <div id="previewNumber" style="font-size:18px; letter-spacing:2px;">•••• •••• •••• 1234</div>
      <div id="previewUser" style="margin-top:20px;">Jane Doe</div>
      <div id="previewExpiry" style="position:absolute; bottom:20px; right:20px;">09/26</div>
       <div id="previewNotes" style="position:absolute; bottom:5px; left:20px; font-size:12px; opacity:0.8;">Optional notes</div>
    </div>
  </div>

  <button type="button" onclick="sendCardEmail()">Send Card via Email</button>
</div>

<!-- prevuew Atm card end-->
  <hr>

  <!-- Cards List / Table -->
  <h4>All Virtual Cards</h4>
  <table id="virtualCardsTable" border="1" cellpadding="8" cellspacing="0" width="100%">
    <thead>
      <tr>
        <th>#</th>
        <th>Card Number</th>
        <th>Expiry</th>
        <th>CVV</th>
        <th>User</th>
        <th>Notes</th>
        <th>Status</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      <!-- rows inserted here -->
    </tbody>
  </table>
</div>

 <!-- Virtual Cards Section end -->


<!-- Bank Transactions Section -->
<div id="bank-transactions" class="section" style="display:none;">
  <h3>Bank Transactions</h3>

  <!-- Add Transaction Form -->
  <form id="bankTransactionForm" onsubmit="addBankTransaction(event)">
    <label>User ID</label>
    <input type="text" id="bankUserId" placeholder="Enter User ID" required>

    <label>Bank Name</label>
    <input type="text" id="bankName" placeholder="Enter Bank Name" required>

    <label>Amount</label>
    <input type="number" id="bankAmount" placeholder="Enter Amount" required>

    <label>Reference No.</label>
    <input type="text" id="bankRef" placeholder="Transaction Reference" required>

    <label>Status</label>
    <select id="bankStatus">
      <option value="success">Success</option>
      <option value="pending">Pending</option>
      <option value="failed">Failed</option>
    </select>

    <button type="submit">Add Transaction</button>
  </form>

  <hr>

  <!-- Filter Controls -->
  <div class="filter-container">
    <input type="text" id="bankSearch" placeholder="Search by User ID or Reference" onkeyup="filterBankTransactions()">

    <select id="bankStatusFilter" onchange="filterBankTransactions()">
      <option value="all">All</option>
      <option value="success">Success</option>
      <option value="pending">Pending</option>
      <option value="failed">Failed</option>
    </select>

    <label for="bankFrom">From: </label>
    <input type="date" id="bankFrom" onchange="filterBankTransactions()">
    <label for="bankTo">To: </label>
    <input type="date" id="bankTo" onchange="filterBankTransactions()">
  </div>

  <br>

  <!-- Transactions Table -->
  <table border="1" cellpadding="8" cellspacing="0" width="100%">
    <thead>
      <tr>
        <th>Date</th>
        <th>User ID</th>
        <th>Bank</th>
        <th>Amount</th>
        <th>Reference</th>
        <th>Status</th>
      </tr>
    </thead>
    <tbody id="bankTransactionTable">
      <!-- Rows will be inserted dynamically -->
    </tbody>
  </table>
</div>

    <!-- bank transaction end -->


    <!-- Deposit Transactions Section -->
<div id="deposit-transactions" class="section" style="display:none;">
  <h3>Deposit Transactions</h3>

  <!-- Add Deposit Form -->
  <form id="depositTransactionForm" onsubmit="addDepositTransaction(event)">
    <label>User ID</label>
    <input type="text" id="depositUserId" placeholder="Enter User ID" required>

    <label>Method</label>
    <input type="text" id="depositMethod" placeholder="Deposit Method (e.g. Bank, Card, Crypto)" required>

    <label>Amount</label>
    <input type="number" id="depositAmount" placeholder="Enter Amount" required>

    <label>Reference No.</label>
    <input type="text" id="depositRef" placeholder="Transaction Reference" required>

    <label>Status</label>
    <select id="depositStatus">
      <option value="success">Success</option>
      <option value="pending">Pending</option>
      <option value="failed">Failed</option>
    </select>

    <button type="submit">Add Deposit</button>
  </form>

  <hr>

  <!-- Filter Controls -->
  <div class="filter-container">
    <input type="text" id="depositSearch" placeholder="Search by User ID or Reference" onkeyup="filterDepositTransactions()">

    <select id="depositStatusFilter" onchange="filterDepositTransactions()">
      <option value="all">All</option>
      <option value="success">Success</option>
      <option value="pending">Pending</option>
      <option value="failed">Failed</option>
    </select>

    <label for="depositFrom">From: </label>
    <input type="date" id="depositFrom" onchange="filterDepositTransactions()">
    <label for="depositTo">To: </label>
    <input type="date" id="depositTo" onchange="filterDepositTransactions()">
  </div>

  <br>

  <!-- Deposit Transactions Table -->
  <table border="1" cellpadding="8" cellspacing="0" width="100%">
    <thead>
      <tr>
        <th>Date</th>
        <th>User ID</th>
        <th>Method</th>
        <th>Amount</th>
        <th>Reference</th>
        <th>Status</th>
      </tr>
    </thead>
    <tbody id="depositTransactionTable">
      <!-- Rows will be inserted dynamically -->
    </tbody>
  </table>
</div>
<!-- Depoist Transaction end -->
     
       

  
<!-- Send Email Section -->

<div id="send-email" class="section" style="display:none;">
  <h3>Send Email</h3>

  <form id="sendEmailForm">
    <label for="emailTo">To (User Email)</label>
    <input type="email" id="emailTo" placeholder="user@example.com" required>

    <label for="emailSubject">Subject</label>
    <input type="text" id="emailSubject" placeholder="Enter subject" required>

    <label for="emailBody">Message</label>
    <textarea id="emailBody" rows="6" placeholder="Write your message..." required></textarea>

    <button type="submit">Send Email</button>
  </form>

  <hr>

  <!-- Sent Emails Log -->
  <h4>Sent Emails</h4>
  <table border="1" cellpadding="8" cellspacing="0" width="100%">
    <thead>
      <tr>
        <th>Date</th>
        <th>To</th>
        <th>Subject</th>
        <th>Message</th>
      </tr>
    </thead>
    <tbody id="emailTable">
      <!-- Rows inserted dynamically -->
    </tbody>
  </table>
</div>

<!-- send email end -->


    <!-- Manage Users Section -->
<!-- Manage Users Section -->
<!-- Manage Users Section -->
<div id="manage-users" class="section" style="display:none;">
  <h3>Manage Users</h3>
   
  <div style="margin-bottom:10px;">
    <button onclick="bulkFund()">Bulk Fund</button>
    <button onclick="bulkEmail()">Bulk Email</button>
    <button onclick="bulkPinReset()">Bulk Reset PIN</button>
    <button onclick="bulkDelete()">Bulk Delete</button>
  </div>

  <table border="1" cellpadding="8" cellspacing="0" width="100%">
    <thead>
      <tr>
        <th><input type="checkbox" id="selectAll" onclick="toggleAllUsers(this)"></th>
        <th>#</th>
        <th>Name</th>
        <th>Email</th>
        <th>Balance</th>
        <th>Status</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody id="manageUsersTable">
      <!-- User rows will load here -->
    </tbody>
  </table>
</div>

 <!-- Manage Users Section end-->


    <!-- create user -->

    <div id="create-user" class="section" style="display:none;">
  <h3>Create User</h3>

  <form id="createUserForm" onsubmit="createUser(event)">
    <label for="newUserName">Full Name</label>
    <input type="text" id="newUserName" placeholder="Enter full name" required>

    <label for="newUserEmail">Email</label>
    <input type="email" id="newUserEmail" placeholder="user@example.com" required>

    <label for="newUserPhone">Phone</label>
    <input type="tel" id="newUserPhone" placeholder="08012345678" required>

    <label for="newUserPassword">Password</label>
    <input type="password" id="newUserPassword" placeholder="Enter password" required>

    <button type="submit">Create User</button>
  </form>
</div>
<!-- 
end creat user -->

  

<!-- Update User Profile Section -->
<div id="update-user" class="form-section">
  <h3>Update User Profile</h3>
  <form id="updateUserForm" onsubmit="updateUserProfile(event)">
    <label>Full Name</label>
    <input type="text" id="updateName" placeholder="Enter full name">

    <label>Email</label>
    <input type="email" id="updateEmail" placeholder="Enter email">

    <label>Phone</label>
    <input type="tel" id="updatePhone" placeholder="Enter phone number">

    <label>Password Reset</label>
    <input type="password" id="updatePassword" placeholder="Enter new password">

    <label>Transaction PIN</label>
    <input type="password" id="updatePin" maxlength="4" placeholder="Enter 4-digit PIN">

    <label>Confirm Transaction PIN</label>
    <input type="password" id="confirmPin" maxlength="4" placeholder="Confirm 4-digit PIN">

    <label>Address</label>
    <textarea id="updateAddress" placeholder="Enter address"></textarea>

    <label>Profile Picture</label>
    <input type="file" id="updateProfilePic" accept="image/*">

    <label>Place of Work</label>
    <input type="text" id="updateWork" placeholder="Enter place of work">

    <label>Status</label>
    <select id="updateStatus">
      <option value="active">Active</option>
      <option value="inactive">Inactive</option>
    </select>

    <button type="submit">Update Profile</button>
  </form>
</div>


<!-- update user profile end-->

    <!-- Settings Section -->
<div id="settings" class="section" style="display:none;">
  <h3>Settings</h3>

  <form>
    <label>Admin Username</label>
    <input type="text" placeholder="Enter username">

    <label>Email</label>
    <input type="email" placeholder="Enter email">

    <label>Change Password</label>
    <input type="password" placeholder="Enter new password">

    <label>Confirm Password</label>
    <input type="password" placeholder="Confirm new password">

    <label>Notification Preferences</label>
    <select>
      <option value="all">All Notifications</option>
      <option value="email">Email Only</option>
      <option value="none">No Notifications</option>
    </select>

    <label>Theme</label>
    <select>
      <option value="light">Light Mode</option>
      <option value="dark">Dark Mode</option>
    </select>

    <hr>

    <!-- Transaction PIN Section -->
    <h4>Transaction PIN</h4>
    <label>Create / Reset PIN</label>
    <input type="password" maxlength="4" placeholder="Enter 4-digit PIN">

    <label>Confirm PIN</label>
    <input type="password" maxlength="4" placeholder="Confirm PIN">

    <button type="submit">Save Settings</button>
  </form>
</div>
<!-- settings end -->

  </div>
  <!-- Main content end -->

  <!-- Chat Box -->
  <div class="chat-container" id="chatBox">
    <div class="chat-header">
      <span>Live Chat</span>
      <button id="closeChat">×</button>
    </div>
    <div class="chat-messages" id="chatMessages"></div>
    <div class="chat-input">
      <input type="text" id="chatInput" placeholder="Type a message...">
      <button id="sendMessage">Send</button>
    </div>
  </div>

  <!-- Floating Button to Open Chat -->
  <button class="chat-toggle" id="openChat">💬</button>

</body>
</html>
